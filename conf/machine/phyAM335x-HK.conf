#@TYPE: Machine
#@NAME: phyAM335x-HK - PHYTEC TI AM335x Harakiri machine

#@DESCRIPTION: The idea behind this machine comes from the requirement to support all available PHYTEC boards with a minimal set of configuration options. So this machine identifier should build an image which is runnable on all AM335x boards. Dont expect everything to work.

require conf/machine/include/meta-phytec.inc
require conf/machine/include/phytec-common-pkgarch.inc

PREFERRED_PROVIDER_virtual/kernel ?= "linux-yocto"
PREFERRED_VERSION_linux-yocto ?= "3.14%"

MACHINE_FEATURES += "pcbios efi"
MACHINE_FEATURES += "va-impl-intel"
MACHINE_FEATURES += "wifi 3g"

MACHINE_HWCODECS ?= "va-intel gst-va-intel"

MACHINE_EXTRA_RRECOMMENDS += "linux-firmware"

XSERVER ?= "${XSERVER_X86_BASE} \
            ${XSERVER_X86_EXT} \
            ${XSERVER_X86_FBDEV} \
            ${XSERVER_X86_I915} \
            ${XSERVER_X86_I965} \
            ${XSERVER_X86_MODESETTING} \
            ${XSERVER_X86_VESA} \
           "

SYSLINUX_OPTS = "serial 0 115200"
SERIAL_CONSOLE = "115200 ttyS0"
APPEND += "console=ttyS0,115200 console=tty0"
