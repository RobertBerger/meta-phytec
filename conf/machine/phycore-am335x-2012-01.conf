#@TYPE: Machine
#@NAME: phyam335x-flex-13-01, deprecated name: pfla03
#@DESCRIPTION: Machine configuration for the Module PFL-A-03 with baseboard PBA-B-01 1364.4
#from http://www.phytec.de 

require conf/machine/include/am335x.inc

PREFERRED_VERSION_linux-phytec = "3.12%"
KERNEL_DEVICETREE = "am335x-phycore-kit.dtb"
IMAGE_FSTYPES += "tar.gz"
#ubifs
# install the kernel modules to rootfs
MACHINE_EXTRA_RRECOMMENDS += "kernel-modules"

###################
# Barebox Config
###################
# use barebox instead of uboot
PACKAGE_INSTALL_append = " barebox-dev"
# AM335x pre bootloader needs to be configured
BAREBOX_BIN = "images/barebox-am33xx-phytec-phycore.img"
BAREBOX_IPL_BIN = "images/barebox-am33xx-phytec-phycore-mlo.img"
# this line will be overwritten and can be deleted if you supply an environment directory
# to <yocto>/meta-phytec/meta-am335x/recipes-bsp/barebox/env/<machine>/environment
BAREBOX_DEFAULT_ENV = "arch/arm/boards/phytec-core-am335x/defaultenv-phycore-am335x"
