#@TYPE: Machine
#@NAME: phyam335x-flex-13-01, deprecated name: pfla03
#@DESCRIPTION: Machine configuration for the Module PFL-A-03 with baseboard PBA-B-01 1364.4
#from http://www.phytec.de 

require conf/machine/include/am335x.inc

# install the kernel modules to rootfs
MACHINE_EXTRA_RRECOMMENDS += "kernel-modules"

IMAGE_FSTYPES += "tar.gz"
#ubifs

PREFERRED_VERSION_linux-phytec = "3.12%"
SERIAL_CONSOLE = "115200 ttyO0"

###################
# Barebox Config
# ##################
# use barebox instead of uboot
#EXTRA_IMAGEDEPENDS_remove = "u-boot"
#EXTRA_IMAGEDEPENDS += "barebox barebox-ipl"
PACKAGE_INSTALL_append = " barebox-dev"
# AM335x pre bootloader needs to be configured
BAREBOX_BIN = "images/barebox-am33xx-phytec-phyflex.img"
BAREBOX_IPL_BIN = "images/barebox-am33xx-phytec-phyflex-mlo.img"
BAREBOX_IPL_BIN_DEPLOY = "MLO-${MACHINE}-${PV}-${PR}.img"
BAREBOX_IPL_BIN_SYMLINK = "MLO"
BAREBOX_DEFAULT_DEFCONFIG = "phytec-phyflex-am335x_defconfig"
BAREBOX_IPL_DEFAULT_DEFCONFIG = "phytec-phyflex-am335x-xload_defconfig"
