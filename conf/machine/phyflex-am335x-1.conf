#@TYPE: Machine
#@NAME: phyam335x-flex-1, deprecated name: pfla03
#@DESCRIPTION: Machine configuration for the Module PFL-A-03 with baseboard PBA-B-01 1364.4
#from http://www.phytec.de 

require conf/machine/include/am335x.inc

PREFERRED_VERSION_linux-ti = "3.12%"
KERNEL_DEVICETREE = "am335x-phyflex-kit.dtb"
IMAGE_FSTYPES += "tar.gz"
#ubifs
# install the kernel modules to rootfs
#IMAGE_INSTALL += "kernel-modules"
MACHINE_EXTRA_RRECOMMENDS += "kernel-modules"

###################
# Barebox Config
###################
# use barebox instead of uboot
# PACKAGE_INSTALL_append = " barebox-phy-dev"
# AM335x pre bootloader needs to be configured
BAREBOX_BIN = "images/barebox-am33xx-phytec-phyflex.img"
BAREBOX_IPL_BIN = "images/barebox-am33xx-phytec-phyflex-mlo.img"
# this line will be overwritten and can be deleted if you supply an environment directory
# to <yocto>/meta-phytec/meta-am335x/recipes-bsp/barebox/env/<machine>/environment
# BAREBOX_DEFAULT_ENV = "arch/arm/boards/phytec-phyflex-am335x/defaultenv-phyflex-am335x"
BAREBOX_BOOT_DISPLAY = "da8xx_fb.panel_name=ETM0700G0DH6"
